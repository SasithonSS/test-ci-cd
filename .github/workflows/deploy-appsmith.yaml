name: appsmith-cd  # Workflow name

on:
  push:
    branches:
      - master  # Trigger on push to master branch

jobs:
  deploy-appsmith:
    runs-on: ubuntu-latest  # Run on Ubuntu

    steps:
      - run: "curl -f --location --request POST 'https://dev.appsmith.com/api/v1/git/deploy/app/page1-6808ae404641ac2ca98f1e19?branch=master' -H 'accept: application/json, text/plain, */*' -H 'accept-language: en-US,en;q=0.9,th;q=0.8' -H 'branchname: master' -H 'cache-control: no-cache' -b 'intercom-id-y10e7138=98fea02f-d901-43d1-abc6-40f670fcc79d; intercom-device-id-y10e7138=c463be53-bef0-4572-9bd8-25d6a601fcf3; _hjSessionUser_2952959=eyJpZCI6IjZkMDI2M2VhLWM0ZmQtNTMzZS05MTQxLWIzNTZjYzZiYTkxYyIsImNyZWF0ZWQiOjE2ODc4MzAwMzY5OTQsImV4aXN0aW5nIjp0cnVlfQ==; signals-sdk-user-id=82e42766-3706-4101-b5b7-e1a2f98f9f08; SL_C_23361dd035530_SID={c370af0df0edf38360adbefbdc47d2b42ea137c9:{sessionId:uWtLz8IbfizA_QNhMNyDM,visitorId:h20eJyPnLddGYiKPG1M82}}; _gcl_au=1.1.1831838672.1745314380; intercom-session-y10e7138=; _reb2bgeo={city:Sathon,country:Thailand,countryCode:TH,hosting:false,isp:Leaseline,lat:13.7085,proxy:false,region:10,regionName:Bangkok,status:success,timezone:Asia/Bangkok,zip:10500}; SESSION=fff6c84a-213c-4389-a512-4943ced66762; _gid=GA1.2.486415331.1745465184; mp_70b8ea94d623dd857fb555a76d11f944_mixpanel={distinct_id: 526faab1-68e2-4c39-bed2-3a400d43b54b,$device_id: 526faab1-68e2-4c39-bed2-3a400d43b54b,$search_engine: google,$initial_referrer: https://www.google.com/,$initial_referring_domain: www.google.com,__mps: {},__mpso: {$initial_referrer: https://www.google.com/,$initial_referring_domain: www.google.com},__mpus: {},__mpa: {},__mpu: {},__mpr: [],__mpap: [],$user_id: sasithonsangnarai@gmail.com,utm_source: portal}; _reb2bref=https://dev.appsmith.com/; ajs_user_id=sasithonsangnarai@gmail.com; ajs_anonymous_id=07ac7830-c90e-407c-b809-f819d176201c; _ga=GA1.1.390509839.1688319299; _ga_D1VS24CQXE=GS1.1.1745489164.145.1.1745489545.0.0.0' -H 'pragma: no-cache' -H 'priority: u=1, i' -H 'referer: https://dev.appsmith.com/app/my-first-application/page1-6808ae404641ac2ca98f1e19/edit?branch=master' -H 'sec-ch-ua: Google Chrome;v=135, Not-A.Brand;v=8, Chromium;v=135' -H 'sec-ch-ua-mobile: ?0' -H 'sec-ch-ua-platform: Windows' -H 'sec-fetch-dest: empty' -H 'sec-fetch-mode: cors' -H 'sec-fetch-site: same-origin' -H 'timer: 46691.20000000298' -H 'user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36' -H 'x-appsmith-version: UNKNOWN' --insecure"
      # - run: "curl -f --location --request POST https://app.appsmith.com/api/v1/git/deploy/app/65f14c735?branchName=master --header 'Authorization: Bearer <bearer token>'"
